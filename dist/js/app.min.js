!function(e){var t={};function n(c){if(t[c])return t[c].exports;var o=t[c]={i:c,l:!1,exports:{}};return e[c].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(c,o,function(t){return e[t]}.bind(null,o));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){const n=document.querySelector(".prev"),c=document.querySelectorAll(".step"),o=document.querySelector(".next"),r=c.length;let i=1;const a="https://bootcamp-2022.devtest.ge/api";function l(){for(let e=1;e<=r;e++)["step","tab","content"].forEach(t=>{e===i?document.querySelector(`.${t}${e}`).classList.add("active"):document.querySelector(`.${t}${e}`).classList.remove("active")})}o.addEventListener("click",(async function(){if(y()){if(i++,i>r){document.querySelector(".page2").classList.remove("active"),document.querySelector(".page3").classList.add("active");document.querySelector(".btn-3").addEventListener("click",(async function(){document.querySelector(".page3").classList.remove("active");try{await async function(){return fetch("https://bootcamp-2022.devtest.ge/api/application",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})}(),document.querySelector(".page4").classList.add("active"),setTimeout(()=>{window.location="index.html"},3e3)}catch(e){console.log("error",e)}}))}l()}})),document.querySelector(".back-btn").addEventListener("click",(function(e){e.preventDefault(),i=4,l(),document.querySelector(".page3").classList.remove("active"),document.querySelector(".page2").classList.add("active")})),n.addEventListener("click",(function(){if(y()){if(i--,i<1)return i=1,!1;l()}})),c.forEach(e=>{e.addEventListener("click",(function(){const{index:e}=this.dataset;i=Number(e),l()}))});let d=[];function u(){return fetch("https://bootcamp-2022.devtest.ge/api/skills")}(async function(){try{const e=await u();d=await e.json();let t='<option value="" disabled selected>Skills</option>';d.forEach(e=>{let n=`<option value="${e.id}">${e.title}</option>`;t+=n}),document.getElementById("skills").innerHTML=t}catch(e){console.log("error",e)}})().catch(e=>console.log("e",e));let s=[];const m=document.querySelector(".skills-table");function f(){m.innerHTML="",s.forEach(e=>{const t=d.find(t=>t.id===e.id),n=document.createElement("tr"),c=document.createElement("td"),o=document.createElement("td"),r=document.createElement("td"),i=document.createElement("a");i.className="delete-record",i.innerHTML='<i class="fa fa-times-circle-o " aria-hidden="true"></i>',i.addEventListener("click",t=>{var n;t.preventDefault(),n=e.id,s=s.filter(e=>e.id!==n),f()});const a=document.createTextNode(t.title),l=document.createTextNode("years of experience: "+e.experience),u=i;c.appendChild(a),o.appendChild(l),r.appendChild(u),n.appendChild(c),n.appendChild(o),n.appendChild(r),m.appendChild(n)})}document.querySelector(".add-programming-language").addEventListener("click",(function(e){e.preventDefault(),S();const t=Number(document.querySelector("#skills").value);if(!t)return!1;const n=Number(document.querySelector("#years").value);if(!n)return v.years="Experience is required",h(),!1;s.find(e=>e.id===t)?(v.skills="This skill is already added",h()):(s.push({id:t,experience:n}),document.querySelector("#years").value="",f())}));const p=document.querySelectorAll(".form"),y=()=>{const e=p[i-1];S();const t=e.elements;let n="";for(let e of t){if("first_name"!==e.id&&"last_name"!==e.id||(e.value.length<2?v[e.id]="This field must be minimum two character":_[e.id]=e.value),"email"===e.id&&(q(e.value)?_[e.id]=e.value:v[e.id]="Email is not correct"),"phone"===e.id&&e.value.length>0&&(g(e.value)?_[e.id]=e.value:v[e.id]="Phone is not correct"),"skills"===e.id&&(s.length?_[e.id]=s:v[e.id]="Select skill"),"radio"===e.type&&e.name!==n){n=e.name;const t=document.querySelector(`input[type="radio"][name=${e.name}]:checked`);if(t){let n=t.value;"true"===n.toLowerCase()?n=!0:"false"===n.toLowerCase()&&(n=!1),_[e.name]=n}else v[e.id]="This field is required"}"vaccinated_when"!==e.id&&"devtalk_topic"!==e.id&&"something_special"!==e.id||(e.value.length?_[e.id]=e.value:v[e.id]="This field is required"),"date"===e.type&&(e.value.length?_[e.id]=e.value:v[e.id]="This field is required")}return!Object.keys(v).length||(h(),!1)};let v={};const h=()=>{Object.keys(v).forEach(e=>{!function(e,t){const n=document.querySelector("#"+e).parentElement;let c=n.querySelector("span");c||(c=n.parentElement.querySelector("span"));c.innerText=t,n.className="field error"}(e,v[e])})};const S=()=>{v=[],document.querySelectorAll("form span").forEach(e=>e.innerHTML=""),document.querySelectorAll("form .field").forEach(e=>{e.classList.remove("error")})};document.getElementById("email"),document.getElementById("phone");function q(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}function g(e){return!!e.match(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im)}const _={token:"2efa049a-ed33-4bde-b469-e8a685dafd47"};const k=document.querySelector(".btn-1"),b=document.querySelector(".btn-2");k.addEventListener("click",(function(){document.querySelector(".page1").classList.remove("active"),document.querySelector(".page2").classList.add("active")})),b.addEventListener("click",(function(){document.querySelector(".page1").classList.remove("active"),document.querySelector(".page5").classList.add("active")})),async function(){const e=`${a}/applications?token=${_.token}`,t=await fetch(e),n=await t.json();if(!d.length){const e=await u();d=await e.json()}n.forEach(e=>{document.querySelector(".first_name").textContent=e.first_name,document.querySelector(".last_name").textContent=e.last_name,document.querySelector(".email").textContent=e.email,document.querySelector(".phone").textContent=e.phone;let t=e.work_preference;"from_office"===t?document.querySelector(".from_office").checked=!0:"from_home"===t?document.querySelector(".from_home").checked=!0:"hybrid"===t&&(document.querySelector(".hybrid").checked=!0);let n=e.had_covid;!0===n?document.querySelector(".had_covid_yes").checked=!0:!1===n&&(document.querySelector(".had_covid_no").checked=!0),document.querySelector(".had_covid_at").setAttribute("value",e.had_covid_at);let c=e.vaccinated;!0===c?document.querySelector(".vaccinated_yes").checked=!0:!1===c&&(document.querySelector(".vaccinated_no").checked=!0),document.querySelector(".vaccinated_at").setAttribute("value",e.vaccinated_at);const{skills:o}=e;let r="";o.forEach(e=>{const t=d.find(t=>e.id===t.id);r+=`<div class="row">\n                        <div class="col">${t.title}</div>\n                        <div class="col">Years of experience: <span class="">${e.experience}</span></div>\n                    </div>`}),document.querySelector(".skills").innerHTML=r;let i=e.will_organize_devtalk;!0===i?document.getElementById("will_organize_devtalk_yes").checked=!0:!1===i&&(document.getElementById("will_organize_devtalk_no").checked=!0),document.querySelector(".devtalk_topic").textContent=e.devtalk_topic,document.querySelector(".something_special").textContent=e.something_special})}()},function(e,t,n){"use strict";n.r(t),t.default=n.p+"/css/app.min.css"}]);